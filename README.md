# 20坪 Japandi 公寓 3D 展示

這是一個使用 Three.js 建立的 3D 室內設計展示專案，呈現 20 坪 Japandi 風格公寓的完整空間規劃。

## 專案特色

- 🏠 完整的 20 坪公寓 3D 模型（2 房 1 廳 1 衛）
- 🎨 Japandi 風格設計（日式侘寂 + 北歐簡約）
- 📐 嚴格依 `floorplan.md` 實作：客廳中心為 (0,0,0)，走道線固定在 Z = 2.0
- 🛠️ 統一門型：淺橡木框 + 磨砂玻璃 + 黑色把手，門寬 0.85m，高 2.1m
- 🎯 互動式視角切換（客廳、餐廚區、主臥室、工作室、衛浴）
- 📱 響應式設計，支援桌面與行動裝置

## 技術棧

- **Three.js** - 3D 圖形渲染
- **Vite** - 現代化前端建構工具
- **Vanilla JavaScript** - 輕量化實作

## 本地開發

### 安裝依賴

```bash
npm install
```

### 啟動開發伺服器

```bash
npm run dev
```

然後在瀏覽器開啟 `http://localhost:5173`

### 為什麼需要啟動伺服器?

專案使用 ES Modules (現代 JavaScript 模組系統)，瀏覽器的 CORS 安全政策不允許從 `file://` 協議載入模組。因此必須透過 HTTP 伺服器訪問。

## 建構生產版本

```bash
npm run build
```

建構完成後，靜態檔案會輸出到 `dist/` 資料夾。

## 預覽建構結果

```bash
npm run preview
```

## 部署

本專案已配置為可直接部署到 Cloudflare Pages：

1. 將專案推送到 GitHub
2. 在 Cloudflare Pages 連接 repository
3. 設定建構指令：`npm run build`
4. 設定輸出目錄：`dist`
5. 點擊部署

## 空間配置

| 空間 | 坪數 / 尺寸 | 3D 原點座標 (x, z) | 配置重點 |
|------|-------------|--------------------|-----------|
| 客廳 | 8 坪 / 5.5m × 4.8m | (0, 0) | 沙發置於 (0,0,1.0) 朝向北側電視牆，左牆整面 2.4m × 2.2m 落地窗 |
| 餐廚區 | 4 坪 / 3.5m × 3.8m | (4.0, 0) | L 型白色廚具沿後、右牆展開，中央 1.4m × 0.8m 木質餐桌搭配 4 張椅子 |
| 主臥室 | 4 坪 / 4.0m × 4.0m | (-0.75, 4.0) | 床頭靠後牆窗戶，左牆串聯 2m 頂天衣櫃 + 化妝台，門位於走道線 X ≈ -0.75 |
| 工作室 | 2.5 坪 / 1.8m × 2.8m | (2.2, 4.0) | 書桌沿左牆旋轉 90° 面向右側，後牆磨砂窗，門心 X ≈ 2.2 |
| 衛浴 | 1.5 坪 / 2.0m × 2.8m | (4.3, 4.0) | 入口左側懸浮洗手台 + LED 鏡，中央馬桶，後方 0.9m × 0.9m 玻璃淋浴間與乾濕分離隔間 |

> 以上數據直接對應 `src/apartment.js` 與各房間模組 (`src/rooms/*`)，方便工程師對照修改。

### 外殼與牆體

- 外牆：X = -2.75 ~ 5.5、Z = -2.4 ~ 6.0，室內高度 2.7m。
- 走道：Z = 2.0 的分隔線承載全部室內門。
- 隔間：主臥、工作室、衛浴以前牆含門洞 + 側牆定義；客廳與餐廚、客廳與走道保持完全開放。

## 操作說明

- **滑鼠左鍵拖曳** - 旋轉視角
- **滑鼠滾輪** - 縮放視角
- **滑鼠右鍵拖曳** - 平移視角
- **頂部導覽按鈕** - 快速切換空間視角

## 授權

MIT License
